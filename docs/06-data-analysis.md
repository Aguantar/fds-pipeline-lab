# 데이터 분석 결과

## 1. 개요

FDS 파이프라인으로 생성된 거래 데이터를 분석하여 데이터 품질과 FDS 룰 동작을 검증했다.

---

## 2. 데이터 현황

| 항목 | 값 |
|------|-----|
| 총 거래 | 100,000건 |
| 총 금액 | 29.37십억원 |
| 고유 사용자 | 61,332명 |
| 기간 | 테스트 기간 |

---

## 3. 데이터 다양성 검증

### 3-1. 시간대별 분포

| 시간대 | 건수 | 비율 | 평가 |
|--------|------|------|------|
| 새벽 (0-5시) | 11,460 | 11% | ✅ 적음 |
| 아침 (6-9시) | 14,487 | 14% | ✅ 증가 |
| 낮/저녁 (10-21시) | 67,816 | 68% | ✅ 많음 |
| 밤 (22-23시) | 6,530 | 7% | ✅ 감소 |

**결과:** 현실적인 시간대 분포

### 3-2. 카테고리별 분포

| 카테고리 | 건수 | 비율 | 평균 금액 |
|----------|------|------|----------|
| convenience | 22,673 | 23% | 10,851원 |
| coffee | 18,580 | 19% | 7,208원 |
| restaurant | 18,511 | 18% | 33,133원 |
| delivery | 11,015 | 11% | 44,465원 |
| online_shopping | 9,166 | 9% | 181,706원 |
| supermarket | 4,655 | 5% | 125,215원 |
| fashion | 3,692 | 4% | 190,666원 |
| electronics | 1,887 | 2% | 1,490,331원 |
| travel | 914 | 1% | 2,513,976원 |
| luxury | 907 | 1% | 19,126,870원 |

**결과:** 소액 결제 위주, 고액은 희귀 - 현실적

### 3-3. 지역별 분포

| 지역 | 건수 | 비율 |
|------|------|------|
| 서울 | 27,730 | 28% |
| 경기 | 23,176 | 23% |
| 인천 | 9,240 | 9% |
| 제주 | 9,032 | 9% |
| 부산 | 7,272 | 7% |

**결과:** 수도권 집중 (60%) - 현실적

### 3-4. 금액 분포

| 구간 | 건수 | 비율 |
|------|------|------|
| ~1만원 | 34,268 | 34% |
| 1~5만원 | 38,463 | 38% |
| 5~10만원 | 9,919 | 10% |
| 10~50만원 | 13,599 | 14% |
| 50~100만원 | 1,046 | 1% |
| 100만원~ | 3,005 | 3% |

**결과:** 소액 72%, 중액 24%, 고액 4% - 현실적

### 3-5. 유저당 거래 건수

| 건수 | 유저 수 | 비율 |
|------|---------|------|
| 1건 | 35,266 | 57% |
| 2건 | 17,248 | 28% |
| 3~5건 | 8,690 | 14% |
| 6건 이상 | 226 | 0.4% |

**결과:** 대부분 1~2건 - 현실적

---

## 4. FDS 이상거래 분석

### 4-1. 탐지 현황

| 항목 | 값 |
|------|-----|
| 이상거래 건수 | 5,070건 |
| 이상거래 비율 | **5.07%** |
| 이상거래 금액 | 189.8억원 |

### 4-2. 룰별 탐지 현황

| 룰 | 건수 | 비율 | 설명 |
|----|------|------|------|
| AMOUNT_SPIKE | 4,726 | 93% | 평소의 10배 이상 금액 |
| OTHER (UNUSUAL_CATEGORY) | 354 | 7% | 일반등급 명품 고액 |
| DAWN_HIGH_AMOUNT | 8 | 0.2% | 새벽 500만원 이상 |
| VELOCITY | 0 | 0% | 1분 내 5회 이상 |

**결과:** VELOCITY 0건은 유저 풀 10만 명 효과 (유저당 평균 1.6건)

### 4-3. 정상 vs 이상거래 금액 비교

| 구분 | 평균 금액 | 배수 |
|------|----------|------|
| 정상 거래 | 109,353원 | 1x |
| 이상 거래 | 3,744,844원 | **34x** |

**결과:** 이상거래는 고액 위주 - FDS 룰이 정상 동작

---

## 5. 파이프라인 성능

| 지표 | 값 |
|------|-----|
| E2E Latency 평균 | 588.9ms |
| E2E Latency P95 | 1,070ms |

---

## 6. 데이터 품질 총평

| 항목 | 평가 | 비고 |
|------|------|------|
| 시간대 분포 | ✅ 현실적 | 새벽 적음, 낮 많음 |
| 카테고리 분포 | ✅ 현실적 | 소액 위주 |
| 지역 분포 | ✅ 현실적 | 수도권 집중 |
| 금액 분포 | ✅ 현실적 | 소액 72% |
| 이상거래 비율 | ✅ 현실적 | 5% (실제 1~5%) |
| FDS 룰 동작 | ✅ 정상 | 고액 위주 탐지 |

**결론:** 파이프라인 성능 테스트 및 FDS 검증에 충분한 품질의 데이터

---

## 7. 분석 도구

- **Jupyter Notebook**: `analysis/notebooks/01_pipeline_analysis.ipynb`
- **시각화**: matplotlib, seaborn
- **DB 연결**: SQLAlchemy + psycopg2
